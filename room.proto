syntax = "proto3";

option go_package = "pkg/rooms/pb";

message Command {

    message Mute {}
    message Unmute {}

    message Reaction {
        bytes emoji = 1;
    }

    message LinkShare {
        string link = 1;
    }

    message InviteAdmin {
        int64 id = 1;
    }

    message AcceptAdmin {}

    message RemoveAdmin {
        int64 id = 1;
    }

    message RenameRoom {
        string name = 1;
    }

    message InviteUser {
        int64 id = 1;
    }

    message KickUser {
        int64 id = 1;
    }

    message MuteUser {
        int64 id = 1;
    }

    message RecordScreen {}

    oneof payload {
        Mute mute = 1;
        Unmute unmute = 2;
        Reaction reaction = 3;
        LinkShare linkShare = 4;
        InviteAdmin inviteAdmin = 5;
        AcceptAdmin acceptAdmin = 6;
        RemoveAdmin removeAdmin = 7;
        RenameRoom renameRoom = 8;
        InviteUser inviteUser = 9;
        KickUser kickUser = 10;
        MuteUser muteUser = 11;
        RecordScreen recordScreen = 12;
    }
}

message Event {
    int64 from = 1;

    message Muted {}
    message Unmuted {}

    message Reacted {
        bytes emoji = 1;
    }

    message LinkShared {
        string link = 1;
    }

    message InvitedAdmin {}

    message AddedAdmin {
        int64 id = 1;
    }

    message RemovedAdmin {
        int64 id = 1;
    }

    message RenamedRoom {
        string name = 1;
    }

    message RecordedScreen {}

    message MutedByAdmin {}

    oneof payload {
        Muted muted = 2;
        Unmuted unmuted = 3;
        Reacted reacted = 4;
        LinkShared linkShared = 5;
        InvitedAdmin invitedAdmin = 6;
        AddedAdmin addedAdmin = 7;
        RemovedAdmin removedAdmin = 8;
        RenamedRoom renamedRoom = 9;
        RecordedScreen recordedScreen = 10;
        MutedByAdmin mutedByAdmin = 11;
    }
}
